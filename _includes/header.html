<nav class="navbar">
  <!-- Logo (left) -->
  <div class="logo">
    <a href="{{ site.baseurl }}/">
      <!-- Crossed Swords Icon (new design similar to ⚔️) -->
      <svg
        class="swords-icon"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 24 24"
        width="28"
        height="28"
        aria-hidden="true"
      >
        <path
          fill="var(--theme-accent)"
          d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm0 10c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4z"
        />
        />
      </svg>
      ⚔️ Arena
    </a>
  </div>

  <!-- Right side: Nav + Theme buttons all inline -->
  <div class="right-side">
    <ul class="nav-links">
      <li><a href="{{ site.baseurl }}/">Home</a></li>
      <li><a href="{{ site.baseurl }}/work/">Work Experience</a></li>
      <li><a href="{{ site.baseurl }}/archives/">Archives</a></li>
      <li><a href="{{ site.baseurl }}/about/">About</a></li>
    </ul>
    <div class="theme-buttons">
      <button
        data-theme="sunset"
        style="background: #ffd700"
        title="Gladiator Sunset"
      ></button>
      <button
        data-theme="bronze"
        style="background: #e6c200"
        title="Spartan Bronze"
      ></button>
      <button
        data-theme="steel"
        style="background: #66fcf1"
        title="Midnight Steel"
      ></button>
      <button
        data-theme="crimson"
        style="background: #ff0000"
        title="Imperial Crimson"
      ></button>
    </div>
  </div>
</nav>

<!-- Quote banner -->
<div class="arena-quote">
  <p>
    “It is not the critic who counts; not the man who points out how the strong
    man stumbles, or where the doer of deeds could have done them better. The
    credit belongs to the man who is actually in the arena, whose face is marred
    by dust and sweat and blood; who strives valiantly; who errs, who comes
    short again and again, because there is no effort without error and
    shortcoming; but who does actually strive to do the deeds; who knows great
    enthusiasms, the great devotions; who spends himself in a worthy cause; who
    at the best knows in the end the triumph of high achievement, and who at the
    worst, if he fails, at least fails while daring greatly, so that his place
    shall never be with those cold and timid souls who neither know victory nor
    defeat.”
  </p>
</div>

<style>
  /* Reset */
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  nav.navbar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: var(--theme-gradient);
    padding: 8px 20px;
    font-family: "Segoe UI", sans-serif;
    transition: background 0.6s ease;
  }

  /* Logo */
  nav .logo a {
    display: flex;
    align-items: center;
    gap: 8px;
    color: #fff;
    font-size: 1.3rem;
    font-weight: bold;
    text-decoration: none;
    letter-spacing: 1px;
    transition: text-shadow 0.3s ease;
  }
  nav .logo a:hover {
    text-shadow: 0 0 8px var(--theme-accent);
  }
  .swords-icon {
    fill: var(--theme-accent);
    transition: fill 0.6s ease, transform 0.2s ease, filter 0.2s ease;
  }
  .swords-icon:hover {
    transform: rotate(15deg) scale(1.1);
    filter: drop-shadow(0 0 6px var(--theme-accent));
  }

  /* Right side = nav + theme inline */
  .right-side {
    display: flex;
    align-items: center;
    gap: 15px;
  }

  /* Nav links */
  nav .nav-links {
    list-style: none;
    display: flex;
    gap: 20px;
  }
  nav .nav-links li a {
    color: #fff;
    text-decoration: none;
    font-size: 0.9rem;
    position: relative;
    padding: 3px 0;
    transition: color 0.3s ease, text-shadow 0.3s ease, transform 0.2s ease;
  }
  nav .nav-links li a::after {
    content: "";
    position: absolute;
    left: 0;
    bottom: -3px;
    width: 0;
    height: 2px;
    background: var(--theme-accent);
    transition: width 0.3s ease;
  }
  nav .nav-links li a:hover {
    color: var(--theme-accent);
    text-shadow: 0 0 6px var(--theme-accent);
    transform: translateY(-2px);
  }
  nav .nav-links li a:hover::after {
    width: 100%;
  }

  /* Theme buttons */
  .theme-buttons {
    display: flex;
    gap: 6px;
  }
  .theme-buttons button {
    width: 18px;
    height: 18px;
    border-radius: 50%;
    border: 2px solid #fff;
    cursor: pointer;
    transition: transform 0.2s ease, box-shadow 0.3s ease;
  }
  .theme-buttons button:hover {
    transform: scale(1.2);
  }
  .theme-buttons button.active {
    box-shadow: 0 0 8px var(--theme-accent), 0 0 16px var(--theme-accent);
  }

  /* Arena quote - scrolling banner */
  .arena-quote {
    width: 100%;
    overflow: hidden;
    white-space: nowrap;
    background: #111;
    border-top: 1px solid var(--theme-border);
    border-bottom: 1px solid var(--theme-border);
    padding: 5px 0;
    position: relative;
    transition: border-color 0.6s ease;
  }
  .arena-quote::before,
  .arena-quote::after {
    content: "";
    position: absolute;
    top: 0;
    width: 50px;
    height: 100%;
    pointer-events: none;
    background: linear-gradient(to right, #111, transparent);
    z-index: 2;
  }
  .arena-quote::after {
    right: 0;
    transform: rotate(180deg);
  }
  .arena-quote p {
    display: inline-block;
    font-family: "Georgia", serif;
    font-style: italic;
    font-size: 0.8rem;
    color: #eee;
    text-shadow: 1px 1px 2px #000;
    padding-left: 100%;
    animation: scrollQuote 70s linear infinite,
      colorShift 10s ease-in-out infinite;
    transition: transform 0.2s ease;
  }
  .arena-quote p:hover {
    animation-play-state: paused;
    transform: scale(1.02);
  }

  @keyframes scrollQuote {
    from {
      transform: translateX(0);
    }
    to {
      transform: translateX(-100%);
    }
  }
  @keyframes colorShift {
    0% {
      color: #eee;
    }
    50% {
      color: var(--theme-accent);
    }
    100% {
      color: #eee;
    }
  }

  /* Mobile tweaks */
  @media (max-width: 768px) {
    nav.navbar {
      flex-direction: column;
      align-items: flex-start;
      gap: 8px;
    }
    .right-side {
      flex-direction: column;
      align-items: flex-start;
      gap: 10px;
    }
    nav .nav-links {
      flex-direction: column;
      gap: 8px;
    }
    .arena-quote p {
      font-size: 0.7rem;
      animation-duration: 100s;
    }
  }

  /* Default = Midnight Steel */
  :root {
    --theme-gradient: linear-gradient(90deg, #0f2027, #203a43, #2c5364);
    --theme-accent: #66fcf1;
    --theme-border: rgba(102, 252, 241, 0.4);
  }
</style>

<script>
  const themes = {
    sunset: {
      "--theme-gradient": "linear-gradient(90deg, #3a1c71, #d76d77, #ffaf7b)",
      "--theme-accent": "#ffd700",
      "--theme-border": "rgba(255, 215, 0, 0.4)",
    },
    bronze: {
      "--theme-gradient": "linear-gradient(90deg, #5c3d2e, #b08d57, #e6c200)",
      "--theme-accent": "#ffdd55",
      "--theme-border": "rgba(255, 221, 85, 0.4)",
    },
    steel: {
      "--theme-gradient": "linear-gradient(90deg, #0f2027, #203a43, #2c5364)",
      "--theme-accent": "#66fcf1",
      "--theme-border": "rgba(102, 252, 241, 0.4)",
    },
    crimson: {
      "--theme-gradient": "linear-gradient(90deg, #6a040f, #d00000, #ffba08)",
      "--theme-accent": "#ffdd00",
      "--theme-border": "rgba(255, 218, 0, 0.4)",
    },
  };

  function applyTheme(name) {
    const theme = themes[name];
    for (let key in theme) {
      document.documentElement.style.setProperty(key, theme[key]);
    }
    localStorage.setItem("selectedTheme", name);

    // Highlight active button
    document.querySelectorAll(".theme-buttons button").forEach((btn) => {
      btn.classList.toggle("active", btn.dataset.theme === name);
    });
  }

  // Restore saved theme or default to steel
  const savedTheme = localStorage.getItem("selectedTheme") || "steel";
  applyTheme(savedTheme);

  // Theme button clicks
  document.querySelectorAll(".theme-buttons button").forEach((btn) => {
    btn.addEventListener("click", () => applyTheme(btn.dataset.theme));
  });
</script>
